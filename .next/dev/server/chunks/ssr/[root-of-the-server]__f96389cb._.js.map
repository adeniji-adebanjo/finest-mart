{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Documents/Dev_Projects/ReactJs%20Apps/finest-mart/app/providers.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, {\r\n  createContext,\r\n  useContext,\r\n  useState,\r\n  useEffect,\r\n  ReactNode,\r\n} from \"react\";\r\n\r\n// --- Cart Context ---\r\ninterface CartContextType {\r\n  cartCount: number;\r\n  addToCart: (item?: any) => void;\r\n}\r\n\r\nconst CartContext = createContext<CartContextType | undefined>(undefined);\r\n\r\nexport const useCart = () => {\r\n  const context = useContext(CartContext);\r\n  if (!context) {\r\n    throw new Error(\"useCart must be used within a CartProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\n// --- Auth Context (Simple version to match legacy App.js behavior initially) ---\r\n// Note: In a real Next.js app, you might use next-auth or keep firebase client-side.\r\n// We'll mimic the legacy localStorage behavior but wrapped nicely.\r\n\r\ninterface AuthContextType {\r\n  isLoggedIn: boolean;\r\n  username: string;\r\n  login: (username: string) => void;\r\n  logout: () => void;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error(\"useAuth must be used within a AuthProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nexport function Providers({ children }: { children: ReactNode }) {\r\n  // Cart Logic\r\n  const [cartCount, setCartCount] = useState(0);\r\n\r\n  const addToCart = () => {\r\n    setCartCount((prev) => prev + 1);\r\n  };\r\n\r\n  // Auth Logic\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n    const storedUser = localStorage.getItem(\"user\");\r\n    if (storedUser) {\r\n      try {\r\n        const parsed = JSON.parse(storedUser);\r\n        setIsLoggedIn(true);\r\n        setUsername(parsed.username);\r\n      } catch (e) {\r\n        console.error(\"Failed to parse user\", e);\r\n      }\r\n    }\r\n\r\n    const handleStorageChange = (e: StorageEvent) => {\r\n      if (e.key === \"user\" && e.newValue === null) {\r\n        setIsLoggedIn(false);\r\n        setUsername(\"\");\r\n      }\r\n    };\r\n    window.addEventListener(\"storage\", handleStorageChange);\r\n    return () => window.removeEventListener(\"storage\", handleStorageChange);\r\n  }, []);\r\n\r\n  const login = (user: string) => {\r\n    setIsLoggedIn(true);\r\n    setUsername(user);\r\n    localStorage.setItem(\"user\", JSON.stringify({ username: user }));\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(\"user\");\r\n    setIsLoggedIn(false);\r\n    setUsername(\"\");\r\n  };\r\n\r\n  // Avoid hydration mismatch by rendering children only after mount if using localStorage affecting UI\r\n  // But for providers, it's usually better to just let it run.\r\n  // However, isLoggedIn default is false, which matches server.\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ isLoggedIn, username, login, logout }}>\r\n      <CartContext.Provider value={{ cartCount, addToCart }}>\r\n        {children}\r\n      </CartContext.Provider>\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;AAEA;AAFA;;;AAgBA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,MAAM,UAAU;IACrB,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAaA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,MAAM,UAAU;IACrB,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAEO,SAAS,UAAU,EAAE,QAAQ,EAA2B;IAC7D,aAAa;IACb,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,MAAM,YAAY;QAChB,aAAa,CAAC,OAAS,OAAO;IAChC;IAEA,aAAa;IACb,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,WAAW;QACX,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,IAAI,YAAY;YACd,IAAI;gBACF,MAAM,SAAS,KAAK,KAAK,CAAC;gBAC1B,cAAc;gBACd,YAAY,OAAO,QAAQ;YAC7B,EAAE,OAAO,GAAG;gBACV,QAAQ,KAAK,CAAC,wBAAwB;YACxC;QACF;QAEA,MAAM,sBAAsB,CAAC;YAC3B,IAAI,EAAE,GAAG,KAAK,UAAU,EAAE,QAAQ,KAAK,MAAM;gBAC3C,cAAc;gBACd,YAAY;YACd;QACF;QACA,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;IACrD,GAAG,EAAE;IAEL,MAAM,QAAQ,CAAC;QACb,cAAc;QACd,YAAY;QACZ,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAAE,UAAU;QAAK;IAC/D;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,cAAc;QACd,YAAY;IACd;IAEA,qGAAqG;IACrG,6DAA6D;IAC7D,8DAA8D;IAE9D,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAY;YAAU;YAAO;QAAO;kBACjE,cAAA,8OAAC,YAAY,QAAQ;YAAC,OAAO;gBAAE;gBAAW;YAAU;sBACjD;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Documents/Dev_Projects/ReactJs%20Apps/finest-mart/app/components/Navbar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useAuth, useCart } from \"../providers\";\r\nimport { ShoppingBag, Menu, X, User } from \"lucide-react\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\n\r\nconst Navbar = () => {\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const { isLoggedIn, username, logout } = useAuth();\r\n  const { cartCount } = useCart();\r\n  const router = useRouter();\r\n\r\n  const toggleMenu = () => setIsMenuOpen(!isMenuOpen);\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    router.push(\"/\");\r\n  };\r\n\r\n  const navLinks = [\r\n    { name: \"Home\", href: \"/\" },\r\n    { name: \"Categories\", href: \"#categories\" },\r\n    { name: \"Sales\", href: \"#sales\" },\r\n    { name: \"FAQs\", href: \"#faqs\" },\r\n    { name: \"About\", href: \"#about\" },\r\n    { name: \"Contact\", href: \"#contact\" },\r\n  ];\r\n\r\n  return (\r\n    <header className=\"sticky top-0 z-50 w-full transition-all duration-300\">\r\n      <nav className=\"glass px-6 py-4 flex items-center justify-between\">\r\n        {/* Brand */}\r\n        <Link href=\"/\" className=\"text-2xl font-bold tracking-tight\">\r\n          Finest<span className=\"text-yellow-500\">Mart</span>\r\n        </Link>\r\n\r\n        {/* Desktop Nav */}\r\n        <div className=\"hidden lg:flex items-center space-x-8\">\r\n          {navLinks.map((link) => (\r\n            <Link\r\n              key={link.name}\r\n              href={link.href}\r\n              className=\"text-gray-700 hover:text-yellow-500 transition-colors font-medium\"\r\n            >\r\n              {link.name}\r\n            </Link>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Desktop Actions */}\r\n        <div className=\"hidden lg:flex items-center space-x-6\">\r\n          {!isLoggedIn ? (\r\n            <>\r\n              <Link\r\n                href=\"/login\"\r\n                className=\"px-4 py-2 rounded-full border border-red-500 text-red-500 hover:bg-red-50 transition-colors font-semibold\"\r\n              >\r\n                Sign In\r\n              </Link>\r\n              <Link\r\n                href=\"/signup\"\r\n                className=\"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-colors font-semibold shadow-md hover:shadow-lg\"\r\n              >\r\n                Sign Up\r\n              </Link>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Link href=\"/dashboard\">\r\n                <button className=\"px-4 py-2 rounded-full border border-green-500 text-green-600 hover:bg-green-50 transition-colors font-semibold\">\r\n                  Dashboard\r\n                </button>\r\n              </Link>\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"px-4 py-2 rounded-full border border-red-500 text-red-500 hover:bg-red-50 transition-colors font-semibold\"\r\n              >\r\n                Logout\r\n              </button>\r\n              <div className=\"flex items-center space-x-1 text-gray-700 font-medium\">\r\n                <User size={18} />\r\n                <span>Hi, {username}</span>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {/* Cart Icon */}\r\n          <Link\r\n            href=\"/cart\"\r\n            className=\"relative text-gray-700 hover:text-yellow-600 transition-colors\"\r\n          >\r\n            <ShoppingBag size={24} />\r\n            {cartCount > 0 && (\r\n              <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full shadow-sm\">\r\n                {cartCount}\r\n              </span>\r\n            )}\r\n          </Link>\r\n        </div>\r\n\r\n        {/* Mobile Toggle & Cart */}\r\n        <div className=\"flex lg:hidden items-center space-x-4\">\r\n          <Link href=\"/cart\" className=\"relative text-gray-700\">\r\n            <ShoppingBag size={24} />\r\n            {cartCount > 0 && (\r\n              <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full\">\r\n                {cartCount}\r\n              </span>\r\n            )}\r\n          </Link>\r\n          <button\r\n            onClick={toggleMenu}\r\n            className=\"text-gray-700 focus:outline-none\"\r\n          >\r\n            {isMenuOpen ? <X size={28} /> : <Menu size={28} />}\r\n          </button>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Mobile Menu Overlay */}\r\n      {isMenuOpen && (\r\n        <div className=\"fixed inset-0 z-40 bg-white/95 backdrop-blur-xl flex flex-col items-center justify-center space-y-6 lg:hidden animate-in fade-in slide-in-from-top-10 duration-200\">\r\n          <button\r\n            onClick={toggleMenu}\r\n            className=\"absolute top-6 right-6 text-gray-700\"\r\n          >\r\n            <X size={32} />\r\n          </button>\r\n\r\n          {navLinks.map((link) => (\r\n            <Link\r\n              key={link.name}\r\n              href={link.href}\r\n              onClick={() => setIsMenuOpen(false)}\r\n              className=\"text-xl font-medium text-gray-800 hover:text-yellow-500\"\r\n            >\r\n              {link.name}\r\n            </Link>\r\n          ))}\r\n\r\n          <div className=\"h-px w-24 bg-gray-200 my-4\"></div>\r\n\r\n          {!isLoggedIn ? (\r\n            <div className=\"flex flex-col space-y-4 w-64\">\r\n              <Link\r\n                href=\"/login\"\r\n                onClick={() => setIsMenuOpen(false)}\r\n                className=\"w-full text-center px-6 py-3 rounded-full border border-red-500 text-red-500 hover:bg-red-50 font-semibold\"\r\n              >\r\n                Sign In\r\n              </Link>\r\n              <Link\r\n                href=\"/signup\"\r\n                onClick={() => setIsMenuOpen(false)}\r\n                className=\"w-full text-center px-6 py-3 rounded-full bg-red-500 text-white hover:bg-red-600 font-semibold shadow-md\"\r\n              >\r\n                Sign Up\r\n              </Link>\r\n            </div>\r\n          ) : (\r\n            <div className=\"flex flex-col space-y-4 w-64\">\r\n              <div className=\"flex items-center justify-center space-x-2 text-gray-700 font-medium mb-2\">\r\n                <User size={20} />\r\n                <span>Hi, {username}</span>\r\n              </div>\r\n              <Link\r\n                href=\"/dashboard\"\r\n                onClick={() => setIsMenuOpen(false)}\r\n                className=\"w-full text-center px-6 py-3 rounded-full border border-green-500 text-green-600 hover:bg-green-50 font-semibold\"\r\n              >\r\n                Dashboard\r\n              </Link>\r\n              <button\r\n                onClick={() => {\r\n                  handleLogout();\r\n                  setIsMenuOpen(false);\r\n                }}\r\n                className=\"w-full text-center px-6 py-3 rounded-full border border-red-500 text-red-500 hover:bg-red-50 font-semibold\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"names":[],"mappings":"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"}}]
}