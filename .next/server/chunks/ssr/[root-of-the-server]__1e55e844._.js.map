{"version":3,"sources":["../../../../app/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Swal from \"sweetalert2\";\r\nimport { auth, signInWithEmailAndPassword } from \"../lib/firebase\";\r\nimport { useAuth } from \"../providers\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const router = useRouter();\r\n  const { login } = useAuth(); // Use the global login function\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      const userCredential = await signInWithEmailAndPassword(\r\n        auth,\r\n        email,\r\n        password\r\n      );\r\n      const user = userCredential.user;\r\n\r\n      Swal.fire({\r\n        title: \"Login Successful!\",\r\n        text: \"You are now logged in.\",\r\n        icon: \"success\",\r\n        confirmButtonText: \"Go to Dashboard\",\r\n        customClass: {\r\n          confirmButton: \"bg-green-500 text-white px-4 py-2 rounded-lg\",\r\n        },\r\n      }).then(() => {\r\n        login(user.email || \"User\");\r\n        router.push(\"/dashboard\");\r\n      });\r\n    } catch (error) {\r\n      Swal.fire({\r\n        title: \"Error\",\r\n        text: \"Invalid email or password.\",\r\n        icon: \"error\",\r\n        confirmButtonText: \"Try Again\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-4xl w-full grid grid-cols-1 md:grid-cols-2 gap-8 bg-white rounded-2xl shadow-xl overflow-hidden\">\r\n        {/* Left Side Illustrator */}\r\n        <div className=\"hidden md:flex items-center justify-center bg-blue-50 p-8\">\r\n          <img\r\n            src=\"https://res.cloudinary.com/ds83mhjcm/image/upload/v1731495121/FinestMart/login_gxcue8.png\"\r\n            alt=\"Login\"\r\n            className=\"max-w-full h-auto object-contain\"\r\n          />\r\n        </div>\r\n\r\n        {/* Right Side Form */}\r\n        <div className=\"flex flex-col justify-center p-8 md:p-12\">\r\n          <h2 className=\"text-3xl font-extrabold text-gray-900 mb-2\">\r\n            Welcome Back\r\n          </h2>\r\n          <p className=\"text-sm text-gray-500 mb-8\">\r\n            Don't have an account?{\" \"}\r\n            <Link\r\n              href=\"/signup\"\r\n              className=\"font-medium text-blue-600 hover:text-blue-500\"\r\n            >\r\n              Sign up\r\n            </Link>\r\n          </p>\r\n\r\n          <form className=\"space-y-6\" onSubmit={handleSubmit}>\r\n            <div>\r\n              <label\r\n                htmlFor=\"email\"\r\n                className=\"block text-sm font-medium text-gray-700\"\r\n              >\r\n                Email address\r\n              </label>\r\n              <div className=\"mt-1\">\r\n                <input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  autoComplete=\"email\"\r\n                  required\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                  placeholder=\"name@example.com\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label\r\n                htmlFor=\"password\"\r\n                className=\"block text-sm font-medium text-gray-700\"\r\n              >\r\n                Password\r\n              </label>\r\n              <div className=\"mt-1\">\r\n                <input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  required\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                  placeholder=\"Enter password\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className={`w-full flex justify-center py-3 px-4 border border-transparent rounded-full shadow-sm text-sm font-medium text-white transition-colors\r\n                    ${\r\n                      loading\r\n                        ? \"bg-blue-400 cursor-not-allowed\"\r\n                        : \"bg-blue-600 hover:bg-blue-700 focus:outline-none\"\r\n                    }`}\r\n              >\r\n                {loading ? \"Logging in...\" : \"Login\"}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":[],"mappings":"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"}